(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1419:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var a=n(1),r=n(109),i=(n(1422),n(146)),o=n.n(i),l=(n(167),n(353)),s=n.n(l),c=(n(578),n(352)),u=n.n(c),m=(n(248),n(1377)),d=n.n(m),p=(n(1376),n(1371)),f=n.n(p),h=(n(1370),n(168)),g=n.n(h),y=(n(354),n(23)),v=n.n(y),b=(n(351),n(582)),E=n.n(b),w=(n(581),n(584)),C=n.n(w),T=(n(583),n(580)),S=n.n(T),N=(n(579),n(11)),M=n(16),k=n.n(M);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=s.a.Option,L=u.a.Group,V=f.a.RangePicker,j=S.a.CheckableTag,P={SelectInput:function(e){var t=e.selectValue,n=e.inputValue,r=e.placeholder,i=e.options,o=e.onSelectChange,l=e.onInputChange,c=e.onPressEnter,m=e.selectStyle;return a.createElement(L,{compact:!0},a.createElement(s.a,{style:m?Object.assign({width:110},m):{width:110},value:t,onChange:o},i&&i.map(function(e,t){return a.createElement(R,{key:t,value:e.value},e.title)})),a.createElement(u.a,{style:{width:238},value:n,onChange:l,placeholder:r,onPressEnter:c}))},Select:function(e){var t=e.option,n=e.label,r=e.mode,i=e.onSearch,o=e.onSelect,l=e.onBlur,c=e.onFocus,u=e.value,m=e.placeholder,d=e.showSearch,p=e.width,f=e.filterOption,h=e.onChange,g=e.allowClear,y=e.onPopupScroll;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(s.a,{allowClear:g,value:u,mode:r||!1,style:{minWidth:p||258,width:p},showSearch:d,placeholder:m,filterOption:f,onSearch:i,onSelect:o,onChange:h,onBlur:l,onPopupScroll:y,onFocus:c},t.data.map(function(e){return a.createElement(R,{key:e[t.key]||e.id,value:e[t.value]||e.id,$data:e},e[t.title])}))))},DatePicker:function(e){var t=e.label,n=e.placeholder,r=e.onChange,i=e.value,o=e.style,l=e.format,s=e.showTime;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(f.a,{format:l||!1,style:o,showTime:s,placeholder:n,value:i,onChange:r})))},RangePicker:function(e){var t=e.label,n=e.alias,r=e.placeholder,i=e.onChange,l=e.value,s=e.showTime,c=e.format;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(V,{style:{width:400},showTime:s,format:c,placeholder:r,value:l,onChange:i}),a.createElement("span",{className:"common-list-control-date-alias"},!N.a.isEmpty(n)&&n.map(function(e,t){return a.createElement(o.a,{key:t,onClick:function(){return i([k()(Date.now()-864e5*e).startOf("day"),k()()])}},e," 天内")}))))},Input:function(e){var t=e.label,n=e.value,r=e.placeholder,i=e.onChange,o=e.width,l=e.onPressEnter;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(u.a,{style:{minWidth:o||258},value:n,onChange:i,placeholder:r,onPressEnter:l})))},Checkbox:function(e){var t=e.label,n=e.value,r=e.onChange;return a.createElement(g.a,{checked:n,onChange:r},t)},CheckableTag:function(e){var t=e.label,n=e.option,r=e.value,i=e.onChange;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},!N.a.isEmpty(n)&&n.map(function(e){return a.createElement(j,{key:e.value,checked:e.value===r,onChange:function(){i(e)}},e.title)})))},Label:function(e,t){var n=e.label;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},t))},Custom:function(e){return a.createElement("div",null,(void 0).props.children)}},A=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=H(this,x(t).apply(this,arguments))).state={collapse:!0},e.toggleCollapse=function(t){e.setState({collapse:!e.state.collapse})},e.renderSearcher=function(){var t=e.props.config,n=t.searcher,r=t.table,i=e.state.collapse;return n&&a.createElement("section",{className:"common-list-search"},e.renderWidgets(n.widgets),r&&r.tableHeader&&r.tableHeader(),a.createElement("div",{className:"common-list-search-right"},!n.hideSearcher&&a.createElement(a.Fragment,null,a.createElement(o.a,{type:"primary",onClick:n.onSearch},"查询"),a.createElement(o.a,{onClick:n.onReset},"重置")),n.collapseControl&&n.collapseControl.showMoreBtn&&a.createElement("span",{className:"common-list-serach-more"},a.createElement("a",{onClick:e.toggleCollapse},i?"更多":"收起"," ",a.createElement(v.a,{type:i?"down":"up"})))))},e.renderWidgets=function(t){var n=e.state.collapse,r=e.props.config.searcher;return t&&a.createElement("div",{className:"common-list-search-left"},t.map(function(t,i){return Array.isArray(t)?a.createElement("div",{key:i,className:"common-list-search-row",style:{display:r.collapseControl&&r.collapseControl.showMoreBtn&&n&&i>0?"none":"flex"}},t.map(function(t){return a.createElement("div",{key:t.label,className:"common-list-search-col",style:Object.assign({},t.style)},P[t.type]&&P[t.type](t,t.children?e.renderWidgets(t.children):null))})):a.createElement("div",{key:t.label,className:"common-list-search-row ".concat(t.className)},P[t.type]&&P[t.type](t,t.children?e.renderWidgets(t.children):null))}))},e.renderAddBtn=function(){var t=e.props.config,n=t.addBtn,r=t.searcher;return n&&a.createElement("section",{className:"common-list-addbtn",style:n.style},"function"==typeof n.title?a.createElement(n.title,null):n.title,a.createElement("div",{className:"common-list-search-batch"},r.batchControl.showBatchControl&&a.createElement(s.a,{placeholder:r.batchControl.placeholder,style:{minWidth:120},defaultValue:void 0,onChange:r.batchControl.onBatch},r.batchControl.options.map(function(e){return a.createElement(R,{key:e.value,value:e.value},e.title)}))))},e.renderTableHeader=function(){var t=e.props.config.tableHeader;return a.createElement("section",{className:"common-list-table-header"},t&&t())},e.renderTable=function(){var t=e.props.config.table,n=t.rowKey,r=t.rowSelection,i=t.columns,o=t.dataSource,l=t.pagination,s=t.onChange,c=t.loading,u=t.locale;return a.createElement("section",{className:"common-list-table"},a.createElement(d.a,{locale:u,rowKey:n||"id",rowSelection:r,columns:i,dataSource:o,loading:c,pagination:l,onChange:s}))},e.renderCards=function(){var t=e.props.config.cards,n=t.dataSource,r=t.loading,i=t.pagination,o=t.renderCard,l=t.addBtn;return a.createElement("div",{className:"common-list-cards-wrapper"},a.createElement("ul",{className:"common-list-cards"},r?a.createElement("div",{className:"common-list-cards-loading"},a.createElement(C.a,null)):a.createElement(a.Fragment,null,a.createElement("li",{className:"common-list-card add-btn"},a.createElement("div",{className:"common-list-card-item",onClick:l.onAddBtnClick},l.icon?a.createElement("img",{src:l.icon,alt:""}):a.createElement(v.a,{type:"plus-circle"}),a.createElement("p",null,l.title))),n.map(function(e){return a.createElement("li",{className:"common-list-card"},a.createElement("div",{className:"common-list-card-item"},o(e)))}))),a.createElement("section",{className:"common-list-cards-pagination"},a.createElement(E.a,Object.assign({},i))))},e}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["a"]),n=t,(i=[{key:"render",value:function(){var e=this.props.config;return a.createElement("div",{className:"common-list"},this.renderSearcher(),this.renderAddBtn(),this.renderTableHeader(),e.table&&this.renderTable(),e.cards&&this.renderCards())}}])&&O(n.prototype,i),l&&O(n,l),t}()},1420:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(1),r=n(1375),i=n.n(r),o=(n(1374),n(11));n(1421);function l(e){var t=o.a.getPageBreadcrumb(e.location.pathname),n=e.title,r=e.links,l=e.tabs,s=e.currentTab;return a.createElement("div",{className:"common-header"},a.createElement("section",{className:"common-header-breadcrumb"},t&&a.createElement(i.a,null,t.map(function(e,t){return a.createElement(i.a.Item,{key:t},e.title)}))),a.createElement("section",{className:"common-header-title"},a.createElement("h2",null,n),a.createElement("div",{className:"common-header-links"},r&&r.map(function(t,n){return a.createElement("a",{key:n,onClick:function(){e.history.push(t.path)}},t.title)}))),a.createElement("section",{className:"common-header-tabs"},l&&l.map(function(t,n){return a.createElement("a",{onClick:function(){e.onTabClick(t.id)},className:"".concat(s===t.id?"tab-active":""," ")},a.createElement("span",null,t.title),t.tipComponent&&t.tipComponent())})))}},1421:function(e,t,n){},1422:function(e,t,n){},1423:function(e,t,n){"use strict";var a=function(e){var t=e;return 15===e.length&&(t=function(e){if(/^\d{15}$/.test(e)){e=e.substr(0,6)+"19"+e.substr(6,e.length-6);for(var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=0,a=0;a<e.length;a++)n+=parseInt(e.substr(a,1))*t[a];return e+["1","0","X","9","8","7","6","5","4","3","2"][n%11]}return e}(e)),function(e){if(!/^\d{17}(\d|x)$/i.test(e))return!1;return null!=={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙",21:"辽宁",22:"吉林",23:"黑龙",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",83:"台湾",91:"国外"}[parseInt(e.substr(0,2))]}(t)},r=function(e){return/^[HMhm]{1}([0-9]{8})$/.test(e)},i=function(e){return/^[0-9]{8}$/.test(e)||/^[0-9]{10}$/.test(e)},o=function(e){return/^[a-zA-Z]{5, 17}$/.test(e)||/^[a-zA-Z0-9]$/.test(e)},l=n(11);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",function(){return u});var c={isNonEmpty:function(e,t,n){if(0!==e&&l.a.isEmpty(e))return n&&n(),t},maxLength:function(e,t,n,a){if(e.length>t)return a&&a(),n},minLength:function(e,t,n,a){if(e.length<t)return a&&a(),n},isEmail:function(e,t,n){if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e))return n&&n(),t},isMobile:function(e,t,n){if(!/^(13[0-9]|14[57]|15[012356789]|16[0-9]|18[0-9]|17[0-9]|19[0-9])\d{8}$/.test(e))return n&&n(),t},isID:function(e,t,n,l){var s=null;if("id"===t?s=a:"HKMC"===t?s=r:"TW"===t?s=i:"PSPort"===t&&(s=o),!s(e))return l&&l(),n},isNumber:function(e,t,n){if(e&&Number.isNaN(Number(e)))return n&&n(),t},isHexColor:function(e,t,n){var a=e.toString();if(!a||!function(e){if("#"!==e[0])return!1;var t=e.slice(1);return 6===t.length&&/^[0-9a-fA-f]{6}$/.test(t)}(a))return n&&n(),t},customReg:function(e,t,n,a){var r=e.toString();if(!r||!new RegExp(t).test(r))return a&&a(),n}},u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache=[]}var t,n,a;return t=e,(n=[{key:"add",value:function(e,t){var n=this,a=!0,r=!1,i=void 0;try{for(var o,l=function(){var t=o.value,a=t.strategy.split(":");n.cache.push(function(){var n=a.shift();return a.unshift(e),a.push(t.errMsg),a.push(t.cb),c[n].apply(null,a)})},s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)l()}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}}},{key:"start",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,r=this.cache[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var i=(0,a.value)();if(i)return i}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}])&&s(t.prototype,n),a&&s(t,a),e}()},1493:function(e,t,n){},1494:function(e,t,n){},1531:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),i=n.n(r),o=n(109),l=n(1369),s=n.n(l),c=(n(1368),n(1409)),u=n.n(c),m=(n(1407),n(146)),d=n.n(m),p=(n(167),n(1371)),f=n.n(p),h=(n(1370),n(1373)),g=n.n(h),y=(n(1372),n(353)),v=n.n(y),b=(n(578),n(352)),E=n.n(b),w=(n(248),n(1381)),C=n.n(w),T=(n(1380),n(23)),S=n.n(T),N=(n(351),n(168)),M=n.n(N),k=(n(354),n(1392)),Y=n.n(k),O=(n(1391),n(120)),H=n(110),x=n(1420),D=n(1419),R=n(200),L=n(16),V=n.n(L),j=function(e){e.state.selectedRowKeys;var t=[{width:80,title:"ID",dataIndex:"hdId"},{width:150,title:"活动名称",dataIndex:"hdTitle",render:function(e,t){return r.createElement("div",null,r.createElement("span",null,e),1==t.hdAppLevel&&r.createElement("span",{style:{color:"red",marginLeft:"5px"}},"专属渠道"))}},{width:100,title:"开始时间",dataIndex:"startTime",render:function(e,t){return V()(e).format("YYYY-MM-DD HH:mm:ss")}},{width:100,title:"结束时间",dataIndex:"endTime",render:function(e,t){return V()(e).format("YYYY-MM-DD HH:mm:ss")}},{width:80,title:"分类",dataIndex:"hdCategory",render:function(t,n){var a=e.$store.activity.categoryList.find(function(e){return e.value==t});return a&&a.text||""}},{width:80,title:"类型",dataIndex:"hdType",render:function(t,n){var a=e.$store.activity.typeList.find(function(e){return e.value==t});return a&&a.text||""}},{width:80,title:"显示顺序",dataIndex:"dispOrder"},{width:80,title:"真实值",dataIndex:"actualValue"},{width:80,title:"优化值",dataIndex:"optimalValue"},{width:150,title:"操作",render:function(t,n){return r.createElement("div",{className:"common-list-table-operation"},r.createElement("span",{onClick:function(){n.beginEndTime=[V()(n.startTime),V()(n.endTime)],n.shelfTime=[V()(n.pubTime),V()(n.depubTime)],n.multipleTime=[V()(n.multipleStartTime),V()(n.multipleEndTime)],e.goToEditor(n)}},"编辑"),r.createElement("span",{className:"common-list-table-operation-spliter"}),r.createElement("span",{onClick:function(){e.goToOrder(n)}},"定时排序"),r.createElement("span",{className:"common-list-table-operation-spliter"}),r.createElement("span",{onClick:function(){e.goToBar(n)}},"点击统计"))}}],n=Object.assign({},e.props.activity.paginationConfig,{onChange:function(t,n){e.resetPagination(n,t,2)},onShowSizeChange:function(t,n){e.resetPagination(n,t,2)}});return{addBtn:{title:function(){return r.createElement(d.a,{type:"primary",onClick:function(){return e.goToEditor({})}}," ",r.createElement(S.a,{type:"plus"}),"添加活动")}},searcher:{batchControl:{},widgets:[[{type:"Input",label:"活动名称",placeholder:"请输入活动名称",value:e.state.nameInputValue||void 0,onChange:function(t){e.setNameInputValue(t.target.value)}},{type:"Select",label:"分类",showSearch:!1,placeholder:"请选择分类",allowClear:!1,width:150,value:e.state.searchCategory,option:{key:"id",value:"value",title:"text",data:e.props.activity.categoryList||[]},onSelect:function(t,n){e.onCategorySelect(t,n)}},{type:"Select",label:"上线状态",showSearch:!1,placeholder:"请选择上线状态",allowClear:!1,width:150,value:e.state.searchStatus,option:{key:"id",value:"value",title:"text",data:e.props.activity.statusList||[]},onSelect:function(t,n){e.onStatusSelect(t,n)}}],{type:"RangePicker",label:"开始时间",placeholder:["开始日期","结束日期"],showTime:{defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",alias:[1,7,30],value:e.state.searchStartTimeRange||[],onChange:function(t){e.onSearchStartTimeChange(t)}},{type:"RangePicker",label:"结束时间",placeholder:["开始日期","结束日期"],showTime:{defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",alias:[1,7,30],value:e.state.searchEndTimeRange||[],onChange:function(t){e.onSearchEndTimeChange(t)}},{type:"Select",label:"排序方式",showSearch:!1,placeholder:"",allowClear:!1,width:150,value:e.state.searchSort,option:{key:"id",value:"value",title:"text",data:e.props.activity.sortList||[]},onSelect:function(t,n){e.onSortSelect(t,n)}}],onSearch:function(){e.onSearch()},onReset:function(){e.onReset()}},table:{rowKey:"hdId",columns:t,loading:e.state.tableLoading,dataSource:e.props.activity.allList,pagination:n,onChange:function(e,t,n){}}}},P=(n(1493),n(1408));n(1494);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function U(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=U(this,$(t).apply(this,arguments))).state={},e}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.data,n=e.height,a=e.toolTip;return i.a.createElement("div",null,i.a.createElement(P.Chart,{padding:"auto",height:n,data:t,forceFit:!0},i.a.createElement(P.Axis,{name:"x"}),i.a.createElement(P.Axis,{name:"y"}),i.a.createElement(P.Tooltip,{crosshairs:{type:"y"}}),i.a.createElement(P.Geom,{type:"interval",position:"x*y",tooltip:a&&["x*y",a]})))}}])&&I(n.prototype,a),o&&I(n,o),t}();q.defaultProps={height:400};var B=q,F=n(1423),W=n(11);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=g.a.Item,ee=v.a.Option,te=f.a.RangePicker,ne=M.a.Group,ae={labelCol:{xs:{span:12},sm:{span:5}},wrapperCol:{xs:{span:12},sm:{span:18}}},re=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=G(t).apply(this,arguments),(e=!i||"object"!==z(i)&&"function"!=typeof i?J(n):i).state={filter:{},selectedRowKeys:[],currentPage:1,barVisible:!1,editVisible:!1,editConfirmLoading:!1,barModalRangePickerValue:[],searchStartTimeRange:[],searchEndTimeRange:[],modalType:"",tableLoading:!1,nameInputValue:"",searchCategory:"1",searchStatus:void 0,searchSort:1,statisticsId:0,orderModalVisible:!1,orderModalLoading:!1},e.resetPagination=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var i,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:1==r?(i=this.getInitEndRange(),this.setState({filter:Object.assign({},this.state.filter,{limit:t,pageNum:n,endTime1:i[0]?V()(i[0]).format("YYYY-MM-DD HH:mm:ss"):"",endTime2:i[1]?V()(i[1]).format("YYYY-MM-DD HH:mm:ss"):"",sort:1,hdCategory:"1"}),searchEndTimeRange:i},function(){return a.a(o,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.filter,this.getDataList(t),this.props.activity.setPaginationCurrent(n);case 3:case"end":return e.stop()}},e,this)}))})):2==r&&this.setState({filter:Object.assign({},this.state.filter,{limit:t,pageNum:n})},function(){return a.a(o,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.filter,this.getDataList(t),this.props.activity.setPaginationCurrent(n);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))},e.getInitEndRange=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();function r(e){return(e=e.toString())[1]?e:"0"+e}return[V()([t,n,a].map(r).join("-")+" 00:00:00"),V()([t+1,n,a].map(r).join("-")+" 23:59:59")]},e.getDataList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({tableLoading:!0,filter:Object.assign({},e.state.filter,t)},function(){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.activity.getAllList(Object.assign({},this.state.filter,t));case 2:this.setState({tableLoading:!1});case 3:case"end":return e.stop()}},e,this)}))})},e.goToEditor=function(t){t&&t.hdId?(e.setState({editVisible:!0,modalType:"edit"}),e.$store.activity.setCurrentActivity(t,!0)):("edit"===e.state.modalType&&e.$store.activity.setCurrentActivity({hdCategory:"1",hdType:"0",hdNewUser:0,hdAppLevel:0},!0),e.setState({editVisible:!0,modalType:"add"}))},e.goToOrder=function(t){t&&t.hdId&&(e.setState({orderModalVisible:!0}),e.$store.activity.getHdTimerList(t.hdId))},e.goToBar=function(t){var n=e.$store.activity.getHdClickList;if(t&&t.hdId){e.setState({barVisible:!0,statisticsId:t.hdId});var a=[V()(Date.now()-6048e5),V()()];e.setState({barModalRangePickerValue:a}),n(t.hdId,a)}},e.setNameInputValue=function(t){e.setState({nameInputValue:t,filter:Object.assign({},e.state.filter,{hdTitle:t})})},e.onCategorySelect=function(t,n){if("all"===t){var a=Object.assign({},e.state.filter);delete a.hdCategory,e.setState({searchCategory:t,filter:a})}else e.setState({searchCategory:t,filter:Object.assign({},e.state.filter,{hdCategory:t})})},e.onStatusSelect=function(t,n){e.setState({searchStatus:t,filter:Object.assign({},e.state.filter,{status:t})})},e.onSortSelect=function(t,n){e.setState({searchSort:t,filter:Object.assign({},e.state.filter,{sort:t})})},e.onSearchStartTimeChange=function(t){e.setState({searchStartTimeRange:t,filter:Object.assign({},e.state.filter,{startTime1:t[0]?V()(t[0]).format("YYYY-MM-DD HH:mm:ss"):"",startTime2:t[1]?V()(t[1]).format("YYYY-MM-DD HH:mm:ss"):""})})},e.onSearchEndTimeChange=function(t){e.setState({searchEndTimeRange:t,filter:Object.assign({},e.state.filter,{endTime1:t[0]?V()(t[0]).format("YYYY-MM-DD HH:mm:ss"):"",endTime2:t[1]?V()(t[1]).format("YYYY-MM-DD HH:mm:ss"):""})})},e.onSearch=function(){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({filter:Object.assign({},this.state.filter,{pageNum:1})},function(){return a.a(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getDataList(this.state.filter),this.props.activity.setPaginationCurrent(1);case 2:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))},e.onReset=function(){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getInitEndRange(),delete(n=Object.assign({},this.state.filter,{pageNum:1,sort:1,hdCategory:"1",endTime1:t[0]?V()(t[0]).format("YYYY-MM-DD HH:mm:ss"):"",endTime2:t[1]?V()(t[1]).format("YYYY-MM-DD HH:mm:ss"):""})).hdTitle,delete n.startTime1,delete n.startTime2,delete n.status,this.getDataList(n),this.props.activity.setPaginationCurrent(1),this.setState({filter:n,searchEndTimeRange:t,nameInputValue:"",searchCategory:"1",searchSort:1,searchStatus:void 0});case 9:case"end":return e.stop()}},e,this)}))},e.btnFocus=function(){},e.renderBarModal=function(){var t=e.state,n=t.barVisible,a=t.barModalRangePickerValue,i=t.statisticsId,o=u.a.TabPane,l=f.a.RangePicker,c=e.$store.activity,m=c.getHdClickList,p=c.hdClickList,h=c.hdClickPercentList,g=r.createElement("div",null,[{name:"今日",day:1},{name:"本周",day:7},{name:"本月",day:30}].map(function(t,n){return r.createElement(d.a,{autoFocus:1==n,style:{border:0,boxShadow:"0 0 0 #fff",marginRight:"5px"},key:n,onClick:function(){var n=[V()(Date.now()-864e5*t.day),V()()];e.setState({barModalRangePickerValue:n}),m(i,n)}},t.name)}),r.createElement(l,{style:{width:300,marginLeft:"10px"},format:"YYYY-MM-DD",placeholder:["开始日期","结束日期"],value:a||[],onChange:function(t){e.setState({barModalRangePickerValue:t}),m(i,t)}}));return n&&r.createElement(s.a,{title:"点击统计",visible:n,onOk:e.onBarModalOk,onCancel:e.onBarModalCancel,okText:"确定",cancelText:"取消",zIndex:100,width:1e3},r.createElement(u.a,{tabBarExtraContent:g},r.createElement(o,{tab:"点击数",key:"1"},r.createElement(B,{height:400,data:p,toolTip:function(e,t){return{name:"点击数",value:t}}})),r.createElement(o,{tab:"百分比",key:"2"},r.createElement(B,{height:400,data:h,toolTip:function(e,t){return{name:"百分比",value:t+"%"}}}))))},e.onBarModalOk=function(){e.setState({barVisible:!1})},e.onBarModalCancel=function(){e.setState({barVisible:!1})},e.renderOrderModal=function(){var t=e.state,n=t.orderModalVisible,a=t.orderModalLoading,i=e.props.activity,o=i.hdTimerList,l=i.setHdTimerList,c=i.currentHdTimerList,u=i.addTimerToList,m=e.props.form.getFieldDecorator;return n&&r.createElement(s.a,{title:"定时排序",visible:n,confirmLoading:a,onOk:e.onOrderModalOk,onCancel:e.onOrderModalCancel,okText:"确定",cancelText:"取消",width:700,className:"activity-activity-order-modal"},r.createElement(g.a,Object.assign({className:"activity-activity-edit-modal custom-label-width"},ae),o&&c.map(function(t,n){return r.createElement("div",{key:n,className:"activity-activity-order-modal-item"},r.createElement("h4",null,"时间点",n+1),r.createElement(Q,{label:"显示顺序"},m("dispOrder".concat(n+1),{initialValue:t&&t.dispOrder,rules:[{required:!0,message:"请输入排序"},{pattern:/^([1-9]|[1-9][0-9]|100)$/,message:"请输入1-100"}]})(r.createElement(E.a,{type:"number",style:{width:200},onChange:function(e){l({dispOrder:e.target.value},n)}})),r.createElement("div",{style:{color:"#999"}},"仅能输入1-100的整数数字，数字大则排在靠前的位置")),r.createElement(Q,{label:"活动标题"},m("hdTitle".concat(n+1),{initialValue:t&&t.hdTitle,rules:[{required:!0,message:"请输入活动标题"}]})(r.createElement(E.a,{style:{width:300},onChange:function(e){l({hdTitle:e.target.value},n)}}))),r.createElement(Q,{className:"upload-form",label:"主图片-新版"},m("imgUrlNew".concat(n+1),{initialValue:t&&t.imgUrlNew,rules:[{required:!0,message:"请上传图片"}]})(r.createElement("div",{className:"upload-wrapper"},r.createElement(C.a,{className:"",accept:"image/png",customRequest:function(t){e.orderRequest(t,n)},listType:"picture-card",fileList:t&&t.imgUrlNew,onRemove:function(e){l({imgUrlNew:void 0},n)}},r.createElement("div",null,r.createElement(S.a,{type:"plus"}),r.createElement("div",{className:"ant-upload-text"},t.imgUrlNew&&t.imgUrlNew.length>0?"替换贴纸":"上传贴纸"))),r.createElement("span",{className:"upload-tip"},"宽高690x360")))),r.createElement(Q,{label:"跳转链接"},m("jumpUrl".concat(n+1),{initialValue:t&&t.jumpUrl,rules:[{required:!0,message:"请输入跳转链接"}]})(r.createElement(E.a,{style:{width:200},onChange:function(e){l({jumpUrl:e.target.value},n)}}))),r.createElement(Q,{label:"生效-失效时间"},m("shelfTime".concat(n+1),{initialValue:t&&t.shelfTime,rules:[{required:!0,message:"请选择上下架时间"}]})(r.createElement(te,{style:{width:400},showTime:{defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始日期","结束日期"],onChange:function(e){2===e.length&&l({pubTime:V()(e[0]).valueOf(),depubTime:V()(e[1]).valueOf()},n)}}))))})),r.createElement(d.a,{type:"primary",onClick:function(){u()}},"添加时间点"))},e.orderRequest=function(t,n){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.activity.setHdTimerList,W.a.uploadFile({file:t.file,fileName:t.file.name,ypModel:"activity"}).then(function(e){a({imgUrlNew:e},n)});case 2:case"end":return e.stop()}},e,this)}))},e.onOrderModalOk=function(){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$store.activity,n=t.addOrUpdateHdTimer,r=t.currentHdTimerList,this.props.form.validateFields(function(){return a.a(i,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.some(function(e,n){var a=t.getOrderValidation(e);if(a)return t.$msg.warn(a),!0;return/^([1-9]|[1-9][0-9]|100)$/.test(e.dispOrder)?r.some(function(a,r){return n!==r&&e.pubTime<a.depubTime&&e.depubTime>a.pubTime&&(t.$msg.warn("时间点".concat(n+1,"和时间点").concat(r+1,"相交，请修改时间")),!0)})||!1:(t.$msg.warn("排序请输入1-100"),!0)})){e.next=6;break}return this.setState({orderModalLoading:!0}),e.next=5,n(this.state.filter);case 5:this.setState({orderModalVisible:!1,orderModalLoading:!1});case 6:case"end":return e.stop()}},e,this)}))});case 2:case"end":return e.stop()}},e,this)}))},e.onOrderModalCancel=function(){e.setState({orderModalVisible:!1})},e.getOrderValidation=function(e){var t=new F.a;return t.add(e.dispOrder,[{strategy:"isNonEmpty",errMsg:"请输入排序"}]),t.add(e.hdTitle,[{strategy:"isNonEmpty",errMsg:"请输入标题"}]),t.add(e.imgUrlNew,[{strategy:"isNonEmpty",errMsg:"请上传图片"}]),t.add(e.jumpUrl,[{strategy:"isNonEmpty",errMsg:"请输入跳转链接"}]),t.add(e.shelfTime,[{strategy:"isNonEmpty",errMsg:"请选择生效失效时间"}]),t.start()},e.renderAddOrEditModal=function(){var t=e.state,n=t.editVisible,a=t.editConfirmLoading,i=t.modalType;return n&&r.createElement(s.a,{title:"add"===i?"添加活动":"编辑活动",visible:n,confirmLoading:a,onOk:e.handleEditModalOk,onCancel:e.handleEditModalCancel,okText:"保存",cancelText:"取消",width:780},e.renderModalContent())},e.handleEditModalOk=function(){var t=e.$store.activity.currentActivity;e.props.form.validateFields(function(){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getValidation(t))){e.next=5;break}return e.abrupt("return",this.$msg.warn(n));case 5:if(/^([1-9]|[1-9][0-9]|100)$/.test(t.dispOrder)){e.next=8;break}return e.abrupt("return",this.$msg.warn("排序请输入1-100"));case 8:if(this.setState({editConfirmLoading:!0}),"edit"!==this.state.modalType){e.next=14;break}return e.next=12,this.$store.activity.addOrUpdateActivity(this.state.filter,1);case 12:e.next=16;break;case 14:return e.next=16,this.$store.activity.addOrUpdateActivity(this.state.filter,0);case 16:this.setState({editConfirmLoading:!1,editVisible:!1});case 17:case"end":return e.stop()}},e,this)}))})},e.handleEditModalCancel=function(){e.setState({editVisible:!1})},e.getValidation=function(e){var t=new F.a;return t.add(e.hdCategory,[{strategy:"isNonEmpty",errMsg:"请选择分类"}]),t.add(e.hdType,[{strategy:"isNonEmpty",errMsg:"请选择类型"}]),t.add(e.hdNewUser,[{strategy:"isNonEmpty",errMsg:"请选择新手活动"}]),t.add(e.dispOrder,[{strategy:"isNonEmpty",errMsg:"请输入排序"}]),t.add(e.hdTitle,[{strategy:"isNonEmpty",errMsg:"请输入标题"}]),t.add(e.hdAppLevel,[{strategy:"isNonEmpty",errMsg:"请选择下载渠道"}]),t.add(e.imgUrlNew,[{strategy:"isNonEmpty",errMsg:"请上传图片"}]),t.add(e.jumpUrl,[{strategy:"isNonEmpty",errMsg:"请输入跳转链接"}]),t.add(e.beginEndTime,[{strategy:"isNonEmpty",errMsg:"请选择开始结束时间"}]),t.add(e.shelfTime,[{strategy:"isNonEmpty",errMsg:"请选择发布下架时间"}]),t.add(e.multipleUnit,[{strategy:"isNonEmpty",errMsg:"请输入优化倍数"}]),t.add(e.multipleTime,[{strategy:"isNonEmpty",errMsg:"请选择优化开始截止时间"}]),t.start()},e.renderModalContent=function(){var t=e.$store.activity,n=t.currentActivity,a=t.currentNewActivity,i=t.setCurrentActivity,o=t.editCategoryList,l=t.typeList,s=t.hdNewUserList,c=t.hdAppLevelList,u=t.appPlatformList,m=t.currentHdAppLevel,d=e.props.form.getFieldDecorator,p=r.createElement("div",null,r.createElement(S.a,{type:"plus"}),r.createElement("div",{className:"ant-upload-text"},n.imgUrlNew&&n.imgUrlNew.length>0?"替换贴纸":"上传贴纸"));return r.createElement(g.a,Object.assign({className:"activity-activity-edit-modal custom-label-width"},ae),r.createElement(Q,{label:"分类"},d("hdCategory",{initialValue:n&&n.hdCategory,rules:[{required:!0,message:"请选择分类"}]})(r.createElement(v.a,{style:{width:150},onChange:function(e){i({hdCategory:e},!1)}},o.map(function(e){return r.createElement(ee,{key:e.value,value:e.value},e.text)})))),r.createElement(Q,{label:"类型"},d("hdType",{initialValue:n&&n.hdType,rules:[{required:!0,message:"请选择类型"}]})(r.createElement(v.a,{style:{width:150},onChange:function(e){i({hdType:e},!1)}},l.map(function(e){return r.createElement(ee,{key:e.value,value:e.value},e.text)})))),r.createElement(Q,{label:"新手活动"},d("hdNewUser",{initialValue:n&&n.hdNewUser,rules:[{required:!0,message:"请选择新手活动"}]})(r.createElement(v.a,{style:{width:150},onChange:function(e){i({hdNewUser:e},!1)}},s.map(function(e){return r.createElement(ee,{key:e.value,value:e.value},e.text)})))),r.createElement(Q,{label:"排序"},d("dispOrder",{initialValue:n&&n.dispOrder,rules:[{required:!0,message:"请输入排序"},{pattern:/^([1-9]|[1-9][0-9]|100)$/,message:"请输入1-100"}]})(r.createElement(E.a,{type:"number",style:{width:200},onChange:function(e){i({dispOrder:e.target.value},!1)}})),r.createElement("div",{style:{color:"#999"}},"仅能输入1-100的整数数字，数字大则排在靠前的位置")),r.createElement(Q,{label:"活动标题"},d("hdTitle",{initialValue:n&&n.hdTitle,rules:[{required:!0,message:"请输入活动标题"}]})(r.createElement(E.a,{style:{width:300},onChange:function(e){i({hdTitle:e.target.value},!1)}}))),r.createElement(Q,{label:"下载渠道指定"},d("hdAppLevel",{initialValue:n&&n.hdAppLevel,rules:[{required:!0,message:"请选择新手活动"}]})(r.createElement(v.a,{style:{width:150},onChange:function(e){i({hdAppLevel:e},!1)}},c.map(function(e){return r.createElement(ee,{key:e.value,value:e.value},e.text)})))),"edit"===e.state.modalType&&m?r.createElement(Q,{label:"渠道指定"},d("hdAppLevelDetail",{initialValue:n&&n.platformIds,rules:[{required:!0,message:"请选择渠道"}]})(r.createElement(ne,{onChange:e.onCheckboxChange},u.map(function(e,t){return r.createElement(Y.a,{span:8,key:e.value},r.createElement(M.a,{value:e.value},e.label))})))):null,r.createElement(Q,{className:"upload-form",label:"主图片-新版"},d("imgUrlNew",{initialValue:n&&n.imgUrlNew,rules:[{required:!0,message:"请上传图片"}]})(r.createElement("div",{className:"upload-wrapper"},r.createElement(C.a,{className:"",accept:"image/png",customRequest:e.customRequest.bind(J(e)),listType:"picture-card",fileList:a&&a.imgUrl,onChange:e.handleUpload.bind(J(e))},p),r.createElement("span",{className:"upload-tip"},"宽高690x360")))),r.createElement(Q,{label:"跳转链接"},d("jumpUrl",{initialValue:n&&n.jumpUrl,rules:[{required:!0,message:"请输入跳转链接"}]})(r.createElement(E.a,{style:{width:200},onChange:function(e){i({jumpUrl:e.target.value},!1)}}))),r.createElement(Q,{label:"开始-结束时间"},d("beginEndTime",{initialValue:n&&n.beginEndTime,rules:[{required:!0,message:"请选择开始-结束时间"}]})(r.createElement(te,{style:{width:400},showTime:{defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始日期","结束日期"],onChange:function(e){2===e.length&&i({beginEndTime:e,startTime:V()(e[0]).format("YYYY-MM-DD HH:mm:ss"),endTime:V()(e[1]).format("YYYY-MM-DD HH:mm:ss")},!1)}}))),r.createElement(Q,{label:"发布-下架时间"},d("shelfTime",{initialValue:n&&n.shelfTime,rules:[{required:!0,message:"请选择上下架时间"}]})(r.createElement(te,{style:{width:400},showTime:{defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始日期","结束日期"],onChange:function(e){2===e.length&&i({shelfTime:e,pubTime:V()(e[0]).format("YYYY-MM-DD HH:mm:ss"),depubTime:V()(e[1]).format("YYYY-MM-DD HH:mm:ss"),multipleTime:e,multipleStartTime:V()(e[0]).format("YYYY-MM-DD HH:mm:ss"),multipleEndTime:V()(e[1]).format("YYYY-MM-DD HH:mm:ss")},!1)}}))),r.createElement(Q,{label:"优化数值"},d("multipleUnit",{initialValue:n&&n.multipleUnit,rules:[{required:!0,message:"请输入优化数值"}]})(r.createElement(E.a,{type:"number",style:{width:200},onChange:function(e){i({multipleUnit:e.target.value},!1)}}))),r.createElement(Q,{label:"优化开始-截止时间"},d("multipleTime",{initialValue:n&&n.multipleTime,rules:[{required:!0,message:"请选择开始-结束时间"}]})(r.createElement(te,{style:{width:400},showTime:{defaultValue:[V()("00:00:00","HH:mm:ss"),V()("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",placeholder:["开始日期","结束日期"],onChange:function(e){2===e.length&&i({multipleTime:e,multipleStartTime:V()(e[0]).format("YYYY-MM-DD HH:mm:ss"),multipleEndTime:V()(e[1]).format("YYYY-MM-DD HH:mm:ss")},!1)}}))))},e.onCheckboxChange=function(t){Array.isArray(t)&&e.$store.activity.setCurrentActivity({platformIds:t},!1)},e.customRequest=function(t){return a.a(J(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("fileName",t.file),n.append("ypModel","activity"),e.next=5,this.$api.common.uploadFile(n);case 5:(a=e.sent)&&"0"===a.data.ret&&a.data.data&&a.data.data.fileName&&(r=a.data.data.fileName,this.props.activity.setCurrentActivity({imgUrl:[{url:r}],imgUrlNew:r},!1));case 7:case"end":return e.stop()}},e,this)}))},e.handleUpload=function(t){0===K(t.fileList).length&&e.props.activity.setCurrentActivity({imgUrl:[],imgUrlNew:void 0},!1)},e}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,o["a"]),n=t,(i=[{key:"componentWillMount",value:function(){return a.a(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.common.paginationConfig,n=t.defaultPageSize,a=t.defaultCurrent,this.resetPagination(n,a),this.$store.activity.getAppPlatformList();case 3:case"end":return e.stop()}},e,this)}))}},{key:"render",value:function(){var e=this,t=this.props.match;return r.createElement("div",{className:"activity-activity"},r.createElement(x.a,Object.assign({},this.props,{title:"活动管理"})),r.createElement(O.a,{path:"".concat(t.url),render:function(t){return r.createElement("div",null,r.createElement(D.a,Object.assign({},t,{config:j(e)})))}}),this.renderBarModal(),this.renderAddOrEditModal(),this.renderOrderModal())}}])&&Z(n.prototype,i),l&&Z(n,l),t}();re=a.b([Object(R.a)("/admin/activity/activity",{exact:!1}),g.a.create(),Object(H.b)("common","activity"),H.c],re);t.default=re}}]);