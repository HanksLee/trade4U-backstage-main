(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1419:function(e,t,n){"use strict";n.d(t,"a",function(){return B});var a=n(1),r=n(109),o=(n(1422),n(146)),i=n.n(o),c=(n(167),n(353)),l=n.n(c),s=(n(578),n(352)),u=n.n(s),m=(n(248),n(1377)),p=n.n(m),f=(n(1376),n(1371)),d=n.n(f),h=(n(1370),n(168)),g=n.n(h),y=(n(354),n(23)),b=n.n(y),v=(n(351),n(582)),E=n.n(v),w=(n(581),n(584)),C=n.n(w),S=(n(583),n(580)),k=n.n(S),O=(n(579),n(11)),T=n(16),x=n.n(T);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=l.a.Option,D=u.a.Group,M=d.a.RangePicker,Y=k.a.CheckableTag,L={SelectInput:function(e){var t=e.selectValue,n=e.inputValue,r=e.placeholder,o=e.options,i=e.onSelectChange,c=e.onInputChange,s=e.onPressEnter,m=e.selectStyle;return a.createElement(D,{compact:!0},a.createElement(l.a,{style:m?Object.assign({width:110},m):{width:110},value:t,onChange:i},o&&o.map(function(e,t){return a.createElement(_,{key:t,value:e.value},e.title)})),a.createElement(u.a,{style:{width:238},value:n,onChange:c,placeholder:r,onPressEnter:s}))},Select:function(e){var t=e.option,n=e.label,r=e.mode,o=e.onSearch,i=e.onSelect,c=e.onBlur,s=e.onFocus,u=e.value,m=e.placeholder,p=e.showSearch,f=e.width,d=e.filterOption,h=e.onChange,g=e.allowClear,y=e.onPopupScroll;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(l.a,{allowClear:g,value:u,mode:r||!1,style:{minWidth:f||258,width:f},showSearch:p,placeholder:m,filterOption:d,onSearch:o,onSelect:i,onChange:h,onBlur:c,onPopupScroll:y,onFocus:s},t.data.map(function(e){return a.createElement(_,{key:e[t.key]||e.id,value:e[t.value]||e.id,$data:e},e[t.title])}))))},DatePicker:function(e){var t=e.label,n=e.placeholder,r=e.onChange,o=e.value,i=e.style,c=e.format,l=e.showTime;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(d.a,{format:c||!1,style:i,showTime:l,placeholder:n,value:o,onChange:r})))},RangePicker:function(e){var t=e.label,n=e.alias,r=e.placeholder,o=e.onChange,c=e.value,l=e.showTime,s=e.format;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(M,{style:{width:400},showTime:l,format:s,placeholder:r,value:c,onChange:o}),a.createElement("span",{className:"common-list-control-date-alias"},!O.a.isEmpty(n)&&n.map(function(e,t){return a.createElement(i.a,{key:t,onClick:function(){return o([x()(Date.now()-864e5*e).startOf("day"),x()()])}},e," 天内")}))))},Input:function(e){var t=e.label,n=e.value,r=e.placeholder,o=e.onChange,i=e.width,c=e.onPressEnter;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(u.a,{style:{minWidth:i||258},value:n,onChange:o,placeholder:r,onPressEnter:c})))},Checkbox:function(e){var t=e.label,n=e.value,r=e.onChange;return a.createElement(g.a,{checked:n,onChange:r},t)},CheckableTag:function(e){var t=e.label,n=e.option,r=e.value,o=e.onChange;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},!O.a.isEmpty(n)&&n.map(function(e){return a.createElement(Y,{key:e.value,checked:e.value===r,onChange:function(){o(e)}},e.title)})))},Label:function(e,t){var n=e.label;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},t))},Custom:function(e){return a.createElement("div",null,(void 0).props.children)}},B=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=P(this,R(t).apply(this,arguments))).state={collapse:!0},e.toggleCollapse=function(t){e.setState({collapse:!e.state.collapse})},e.renderSearcher=function(){var t=e.props.config,n=t.searcher,r=t.table,o=e.state.collapse;return n&&a.createElement("section",{className:"common-list-search"},e.renderWidgets(n.widgets),r&&r.tableHeader&&r.tableHeader(),a.createElement("div",{className:"common-list-search-right"},!n.hideSearcher&&a.createElement(a.Fragment,null,a.createElement(i.a,{type:"primary",onClick:n.onSearch},"查询"),a.createElement(i.a,{onClick:n.onReset},"重置")),n.collapseControl&&n.collapseControl.showMoreBtn&&a.createElement("span",{className:"common-list-serach-more"},a.createElement("a",{onClick:e.toggleCollapse},o?"更多":"收起"," ",a.createElement(b.a,{type:o?"down":"up"})))))},e.renderWidgets=function(t){var n=e.state.collapse,r=e.props.config.searcher;return t&&a.createElement("div",{className:"common-list-search-left"},t.map(function(t,o){return Array.isArray(t)?a.createElement("div",{key:o,className:"common-list-search-row",style:{display:r.collapseControl&&r.collapseControl.showMoreBtn&&n&&o>0?"none":"flex"}},t.map(function(t){return a.createElement("div",{key:t.label,className:"common-list-search-col",style:Object.assign({},t.style)},L[t.type]&&L[t.type](t,t.children?e.renderWidgets(t.children):null))})):a.createElement("div",{key:t.label,className:"common-list-search-row ".concat(t.className)},L[t.type]&&L[t.type](t,t.children?e.renderWidgets(t.children):null))}))},e.renderAddBtn=function(){var t=e.props.config,n=t.addBtn,r=t.searcher;return n&&a.createElement("section",{className:"common-list-addbtn",style:n.style},"function"==typeof n.title?a.createElement(n.title,null):n.title,a.createElement("div",{className:"common-list-search-batch"},r.batchControl.showBatchControl&&a.createElement(l.a,{placeholder:r.batchControl.placeholder,style:{minWidth:120},defaultValue:void 0,onChange:r.batchControl.onBatch},r.batchControl.options.map(function(e){return a.createElement(_,{key:e.value,value:e.value},e.title)}))))},e.renderTableHeader=function(){var t=e.props.config.tableHeader;return a.createElement("section",{className:"common-list-table-header"},t&&t())},e.renderTable=function(){var t=e.props.config.table,n=t.rowKey,r=t.rowSelection,o=t.columns,i=t.dataSource,c=t.pagination,l=t.onChange,s=t.loading,u=t.locale;return a.createElement("section",{className:"common-list-table"},a.createElement(p.a,{locale:u,rowKey:n||"id",rowSelection:r,columns:o,dataSource:i,loading:s,pagination:c,onChange:l}))},e.renderCards=function(){var t=e.props.config.cards,n=t.dataSource,r=t.loading,o=t.pagination,i=t.renderCard,c=t.addBtn;return a.createElement("div",{className:"common-list-cards-wrapper"},a.createElement("ul",{className:"common-list-cards"},r?a.createElement("div",{className:"common-list-cards-loading"},a.createElement(C.a,null)):a.createElement(a.Fragment,null,a.createElement("li",{className:"common-list-card add-btn"},a.createElement("div",{className:"common-list-card-item",onClick:c.onAddBtnClick},c.icon?a.createElement("img",{src:c.icon,alt:""}):a.createElement(b.a,{type:"plus-circle"}),a.createElement("p",null,c.title))),n.map(function(e){return a.createElement("li",{className:"common-list-card"},a.createElement("div",{className:"common-list-card-item"},i(e)))}))),a.createElement("section",{className:"common-list-cards-pagination"},a.createElement(E.a,Object.assign({},o))))},e}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["a"]),n=t,(o=[{key:"render",value:function(){var e=this.props.config;return a.createElement("div",{className:"common-list"},this.renderSearcher(),this.renderAddBtn(),this.renderTableHeader(),e.table&&this.renderTable(),e.cards&&this.renderCards())}}])&&j(n.prototype,o),c&&j(n,c),t}()},1420:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(1),r=n(1375),o=n.n(r),i=(n(1374),n(11));n(1421);function c(e){var t=i.a.getPageBreadcrumb(e.location.pathname),n=e.title,r=e.links,c=e.tabs,l=e.currentTab;return a.createElement("div",{className:"common-header"},a.createElement("section",{className:"common-header-breadcrumb"},t&&a.createElement(o.a,null,t.map(function(e,t){return a.createElement(o.a.Item,{key:t},e.title)}))),a.createElement("section",{className:"common-header-title"},a.createElement("h2",null,n),a.createElement("div",{className:"common-header-links"},r&&r.map(function(t,n){return a.createElement("a",{key:n,onClick:function(){e.history.push(t.path)}},t.title)}))),a.createElement("section",{className:"common-header-tabs"},c&&c.map(function(t,n){return a.createElement("a",{onClick:function(){e.onTabClick(t.id)},className:"".concat(l===t.id?"tab-active":""," ")},a.createElement("span",null,t.title),t.tipComponent&&t.tipComponent())})))}},1421:function(e,t,n){},1422:function(e,t,n){},1426:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(1),r=n(582),o=n.n(r),i=(n(581),n(1387)),c=n.n(i);n(1386),n(1427);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,m(t).apply(this,arguments))).$carousel=null,e.changeGalleryIndex=function(t,n){e.props.changeGalleryIndex&&e.props.changeGalleryIndex(t-1)},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.activeIndex;this.$carousel.goTo(e)}},{key:"componentDidUpdate",value:function(){var e=this.props.activeIndex;this.$carousel.goTo(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.source,r=t.activeIndex;return a.createElement("div",{className:"gallery"},a.createElement("section",{className:"gallery-carousel"},a.createElement(c.a,{ref:function(t){return e.$carousel=t},dots:!1},n&&n.map(function(e){return a.createElement("div",{className:"gallery-item"},a.createElement("h3",{className:"gallery-item-img",style:{backgroundImage:"url(".concat(e.src||e.url||e.imgUrl||e.colorImgUrl,")")}}))}))),a.createElement("section",{className:"gallery-pagination"},a.createElement(o.a,{pageSize:1,current:r+1,total:n.length,onChange:this.changeGalleryIndex})))}}])&&s(n.prototype,r),i&&s(n,i),t}();f.defaultProps={activeIndex:0,source:[]}},1427:function(e,t,n){},1432:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var a=n(2),r=n(1),o=n(109),i=n(1369),c=n.n(i),l=(n(1368),n(1385)),s=n.n(l),u=(n(1384),n(1379)),m=n.n(u),p=(n(1378),n(23)),f=n.n(p),d=(n(351),n(16)),h=n.n(d),g=n(1426),y=(n(1433),n(11));function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=E(t).apply(this,arguments),(e=!o||"object"!==b(o)&&"function"!=typeof o?w(n):o).state={showPopconfirm:!1,weight:null},e.renderWeightElem=function(t){return r.createElement("div",null,r.createElement("span",null,"权重  "),r.createElement(m.a,{min:0,onChange:e.changeWeight.bind(w(e),t)}))},e.changeWeight=function(t,n){e.setState({weight:{key:t,value:n}})},e.confirmWeight=function(){return a.a(w(e),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({weight:{},showPopconfirm:!1});case 1:case"end":return e.stop()}},e,this)}))},e.cancelWeight=function(){return e.setState({weight:{},showPopconfirm:!1})},e.handleOk=function(){e.props.onOk&&e.props.onOk()},e.handleCancel=function(){e.props.onCancel&&e.props.onCancel()},e}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o["a"]),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.visible,o=t.onlyCarousel,i=t.isRecommend,l=this.props,u=this.state.showPopconfirm,m=l.recommendStartTime&&l.recommendEndTime?"".concat(l.recommendStartTime&&h()(l.recommendStartTime).format("YYYY.MM.DD HH:mm:ss")," ~ ").concat(l.recommendEndTime&&h()(l.recommendEndTime).format("YYYY.MM.DD HH:mm:ss")):"";return r.createElement(c.a,{width:800,title:n||"动态详情",visible:a,onOk:this.handleOk,okText:l.okText||(1==l.isRecommend?"取消推荐":"推荐"),cancelText:l.cancelText||"取消",onCancel:this.handleCancel,className:"feed-detail-modal"},r.createElement("section",{className:"feed-detail-carousel"},!y.a.isEmpty(l.feedImg)&&r.createElement(g.a,{source:l.feedImg,activeIndex:l.activeGalleryIndex,changeGalleryIndex:l.changeGalleryIndex})),!o&&r.createElement(r.Fragment,null,r.createElement("p",{className:"feed-detail-content",dangerouslySetInnerHTML:{__html:l.memo}}),r.createElement("div",{className:"feed-detail-runlink"},r.createElement("a",{href:"https://wap.thejoyrun.com/PoWeb.aspx?uid=".concat(l.userId,"&fid=").concat(l.id),target:"_blank"},"跑步记录 >")),r.createElement("div",{className:"feed-detail-profile"},r.createElement("p",null,r.createElement("img",{src:l.faceurl,alt:""}),r.createElement("span",{className:"feed-detail-profile-name"},l.nick),r.createElement("span",{className:"feed-detail-profile-fans"},"（ID：",l.userId," · 粉丝 ",l.profile&&l.profile.fansTotal,"）")),r.createElement("p",{className:"feed-detail-profile-site"},r.createElement("span",null,"发布于 "),r.createElement("strong",null,l.province,"·",l.city)),r.createElement("p",{className:"feed-detail-profile-time"},h()(1e3*l.dateline).format("YYYY.MM.DD hh:mm"))),r.createElement("div",{className:"feed-detail-data"},"recommend"!==l.type?r.createElement("p",null,"热度 ",r.createElement("strong",null,l.hot||"--")," |"):r.createElement("p",null,"权重 ",r.createElement("strong",null,l.weight)," ",r.createElement(s.a,{visible:u,icon:null,title:this.renderWeightElem(l.id),overlayClassName:"feed-detail-popconfirm",onConfirm:this.confirmWeight,onCancel:this.cancelWeight,okText:"确定",cancelText:"取消"},r.createElement(f.a,{type:"edit",onClick:function(){return e.setState({showPopconfirm:!0})}}))," |"),r.createElement("p",null," 点赞 ",r.createElement("strong",null,l.likeCount)," |"),r.createElement("p",null," 评论 ",r.createElement("strong",null,l.reCount)," |"),r.createElement("p",null," 视频播放 ",r.createElement("strong",null,l.pv))),m&&i&&r.createElement("div",{className:"feed-detail-recommend-time"},r.createElement("span",null,"推荐时间："),r.createElement("span",null,m))))}}])&&v(n.prototype,i),l&&v(n,l),t}()},1433:function(e,t,n){},1498:function(e,t,n){},1526:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),o=n(109),i=n(1369),c=n.n(i),l=(n(1368),n(120)),s=n(110),u=n(1420),m=n(200),p=n(11),f=(n(1498),n(146)),d=n.n(f),h=(n(167),n(23)),g=n.n(h),y=(n(351),n(1385)),b=n.n(y),v=(n(1384),n(202)),E=n.n(v),w=(n(355),n(16)),C=n.n(w);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k=function(e){var t={selectedRowKeys:e.state.selectedRowKeys,onChange:function(t,n){e.setState({selectedRowKeys:t})}},n=[{title:"动态 ID",dataIndex:"srcId"},{title:"用户 ID",dataIndex:"srcUid"},{title:"图片",dataIndex:"srcImgUrl",render:function(e,t){return r.createElement("a",{href:t.srcImgUrl,target:"_target"},r.createElement("img",{style:{objectFit:"cover",width:80,height:80},src:t.srcImgUrl,alt:""}))}},{title:"上传时间",dataIndex:"createTime",render:function(e,t){return C()(1e3*e).format("YYYY-MM-DD HH:mm:ss")}},{title:r.createElement("p",{style:{cursor:"pointer"}},r.createElement("span",{style:{marginRight:10}},"鉴定结果"),r.createElement(E.a,{title:r.createElement("div",null,r.createElement("p",null,"鉴黄：结果为“色情”且概率在 85% 以上时"),r.createElement("p",null,"鉴恐：结果为“暴恐”且概率在 90% 以上时")),placement:"bottom"},r.createElement(g.a,{type:"info-circle"}))),render:function(e,t){return r.createElement("div",null,r.createElement("p",{style:{}},r.createElement("span",null,"色情：",t.pornDetectRate+"%")),r.createElement("p",{style:{}},r.createElement("span",null,"暴恐：",t.terrorDetectRate+"%")))}},{title:"鉴定时间",render:function(e,t){var n=Math.max(t.terrorDetectTime,t.advDetectTime,t.pornDetectTime);return C()(1e3*n).format("YYYY-MM-DD HH:mm:ss")}},{title:"操作",render:function(t,n){return r.createElement("div",{className:"common-list-table-operation"},r.createElement("span",{onClick:function(){e.toggleFeedDetailModal(n.feedDetails,!1)}},"查看详情"),r.createElement("span",{className:"common-list-table-operation-spliter"}),r.createElement(b.a,{title:"请问是否确定通过当前动态",onConfirm:function(){e.doOperation(n.id)},onCancel:function(){}},r.createElement("span",null,"通过")),r.createElement("span",{className:"common-list-table-operation-spliter"}),r.createElement(b.a,{title:"请问是否确定屏蔽当前动态",onConfirm:function(){e.cancelOperation(n.id)},onCancel:function(){}},r.createElement("span",null,"屏蔽")),r.createElement("span",{className:"common-list-table-operation-spliter"}),r.createElement(b.a,{title:"请问确认删除当前内容？",onConfirm:e.deleteOperation.bind(e,n.id),onCancel:function(){}},r.createElement("span",null,"删除")))}}],a={batchControl:{placeholder:"更多操作",showBatchControl:!p.a.isEmpty(e.state.selectedRowKeys),options:[{title:"通过",value:"pass"},{title:"屏蔽",value:"block"},{title:"删除",value:"delete"}],onBatch:function(t){e.onBatch(t)}},widgets:[{type:"CheckableTag",label:"来源",value:e.state.checkedTag,option:[{title:"社区动态",value:"1"}],onChange:function(t){e.setState({checkedTag:t.value,filter:Object.assign({},e.state.filter,{src:t.value})})}},{type:"RangePicker",label:"时间",placeholder:["开始日期","结束日期"],showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",alias:[1,7,30],value:e.state.dateRange||[],onChange:function(t){e.onDateRangeChange(t)}},{type:"Label",label:"其他选项",className:"other-opts",children:[{type:"Select",label:"排序",showSearch:!1,placeholder:"请选择排序选项",style:{marginLeft:30},value:e.state.sortValue,option:{key:"id",value:"id",title:"title",data:[{id:void 0,title:"默认"},{id:"1",title:"上传时间从近到远"}]},onSelect:function(t,n){e.onSortSelect(t,n)},onBlur:function(){}}]}],onSearch:function(){e.onSearch()},onReset:function(){e.onReset()}},o=Object.assign({},e.props.common.paginationConfig,{current:e.state.currentPage,total:e.props.community.imgAuditListMeta.total,showTotal:!1,onChange:function(e,t){},onShowSizeChange:function(t,n){e.resetPagination(n,t)}});return{addBtn:{title:function(){return r.createElement(d.a,{style:{visibility:"hidden"},type:"primary",onClick:function(){}},r.createElement(g.a,{type:"plus"}),"创建")},style:{marginTop:-90}},searcher:a,table:{rowKey:"id",rowSelection:t,columns:n,dataSource:e.props.community.imgAuditList,loading:e.state.tableLoading,pagination:o,onChange:function(t,n,a){var r={pageNum:t.current,limit:t.pageSize};if(!p.a.isEmpty(n))for(var o=0,i=Object.entries(n);o<i.length;o++){var c=S(i[o],2),l=c[0],s=c[1];r[l]=s?s[0]:void 0}p.a.isEmpty(a)||(r.orderBy="".concat(a.field),r.sort="".concat("descend"===a.order?"desc":"asc")),e.setState({filter:Object.assign({},e.state.filter,r),currentPage:t.current},function(){e.getDataList(e.state.filter)})}}}},O=n(1419),T=n(1432),x=n(1393);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=P(t).apply(this,arguments),(e=!r||"object"!==N(r)&&"function"!=typeof r?R(n):r).state={tableLoading:!1,modalVisible:!1,currentPage:1,checkedTag:"1",filter:{},selectedRowKeys:[],sortValue:void 0,showModal:!1,currentFeed:null,onlyCarousel:!1,activeIndex:0,videoUrl:"",showVideoPlayer:!1},e.resetPagination=function(t,n){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({filter:Object.assign({},this.state.filter,{limit:t,pageNum:n})},function(){return a.a(r,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.filter,this.getDataList(t);case 2:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))},e.getDataList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},e.state.filter,t);e.setState({filter:n,tableLoading:!0},function(){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.community.getImgAuditList({params:n});case 2:this.setState({tableLoading:!1});case 3:case"end":return e.stop()}},e,this)}))})},e.onSortSelect=function(t,n){e.setState({sortValue:t,filter:Object.assign({},e.state.filter,{sort:t||void 0})})},e.onDateRangeChange=function(t){var n=Object.assign({},e.state.filter);p.a.isEmpty(t)||(n.startTime=t[0].unix(),n.endTime=t[1].unix()),e.setState({dateRange:t,filter:n})},e.onSearch=function(){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.filter,this.setState({filter:Object.assign({},t,{pageNum:1}),currentPage:1},function(){n.getDataList(n.state.filter)});case 2:case"end":return e.stop()}},e,this)}))},e.onReset=function(){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={pageNum:1,pageSize:this.state.filter.pageSize,source:"1"},this.setState({dateRange:[],filter:t,currentPage:1,checkedTag:"1",sortValue:void 0},function(){n.getDataList(n.state.filter)});case 2:case"end":return e.stop()}},e,this)}))},e.toggleFeedDetailModal=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];setTimeout(function(){e.setState({currentFeed:t,onlyCarousel:n,showModal:!e.state.showModal}),e.state.showModal||e.setState({activeIndex:0})},300)},e.changeGalleryIndex=function(t){e.setState({activeIndex:t})},e.onVideoPlayerClose=function(){e.setState({showVideoPlayer:!1,videoUrl:""})},e.doOperation=function(t){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.community.passAudit({params:{ids:t}});case 2:0==(n=e.sent).data.ret?(this.getDataList(this.state.filter),this.setState({showModal:!1,selectedRowKeys:[]})):this.$msg.error(n.data.msg);case 4:case"end":return e.stop()}},e,this)}))},e.cancelOperation=function(t){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.community.blockAudit({params:{ids:t}});case 2:0==(n=e.sent).data.ret?(this.getDataList(this.state.filter),this.setState({showModal:!1,selectedRowKeys:[]})):this.$msg.error(n.data.msg);case 4:case"end":return e.stop()}},e,this)}))},e.deleteOperation=function(t){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.community.deleteAudit({params:{ids:t}});case 2:0==(n=e.sent).data.ret?(this.getDataList(this.state.filter),this.setState({showModal:!1,selectedRowKeys:[]})):this.$msg.error(n.data.msg);case 4:case"end":return e.stop()}},e,this)}))},e.onBatch=function(t){return a.a(R(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.selectedRowKeys,!t||!p.a.isEmpty(n)){e.next=3;break}return e.abrupt("return",this.$msg.warning("请选择至少一条记录"));case 3:if("pass"!=t){e.next=8;break}return e.next=6,this.doOperation(n.join(","));case 6:e.next=16;break;case 8:if("block"!=t){e.next=13;break}return e.next=11,this.cancelOperation(n.join(","));case 11:e.next=16;break;case 13:if("delete"!=t){e.next=16;break}return e.next=16,this.deleteOperation(n.join(","));case 16:case"end":return e.stop()}},e,this)}))},e}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,o["a"]),n=t,(i=[{key:"componentDidMount",value:function(){return a.a(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a,r,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.common.paginationConfig,n=t.defaultPageSize,a=t.defaultCurrent,r=this.props.location.hash,o="1",r?"#community"===r&&(o="1"):o="1",this.setState({checkedTag:o,filter:Object.assign({},this.state.filter,{src:o})},function(){i.resetPagination(n,a)});case 5:case"end":return e.stop()}},e,this)}))}},{key:"render",value:function(){var e=this.state,t=(e.modalVisible,e.currentFeed),n=e.showModal,a=e.onlyCarousel,o=e.activeIndex;return r.createElement("div",{className:"img-audit-list"},r.createElement(O.a,Object.assign({},this.props,{config:k(this)})),r.createElement("section",{className:"feed-modal"},r.createElement(T.a,Object.assign({title:a?"查看图片":"",visible:n},t,{onlyCarousel:a,okText:"确认",cancelText:"返回",onOk:this.toggleFeedDetailModal.bind(this,null),onCancel:this.toggleFeedDetailModal.bind(this,null),activeGalleryIndex:o,changeGalleryIndex:this.changeGalleryIndex}))),r.createElement("section",null,r.createElement(c.a,{width:800,title:"播放视频",maskClosable:!0,onCancel:this.onVideoPlayerClose,visible:this.state.showVideoPlayer,footer:null},this.state.videoUrl&&r.createElement(x.Player,null,r.createElement("source",{src:this.state.videoUrl})))))}}])&&j(n.prototype,i),l&&j(n,l),t}(),D=_=a.b([Object(s.b)("common","community"),s.c],_);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function L(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}c.a.confirm;var H=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=L(this,B(t).apply(this,arguments))).state={currentTab:"img-list",filter:{},dateRange:[],sortValue:void 0,tableLoading:!1,currentPage:1,visible:!1},e.onTabClick=function(t){e.setState({currentTab:t},function(){var n="/admin/community/content/audit/".concat(t);e.props.history.push(n)})},e.toggleTab=function(t){e.setState({currentTab:t})},e}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,o["a"]),n=t,(i=[{key:"componentDidMount",value:function(){return a.a(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"/admin/community/content/audit"===(t=this.props.location.pathname)?this.props.history.replace("/admin/community/content/audit/img-list"):"/admin/community/content/audit/img-list"===t?this.setState({currentTab:"img-list"}):this.setState({currentTab:"text-list"});case 2:case"end":return e.stop()}},e,this)}))}},{key:"componentDidUpdate",value:function(e,t){"/admin/community/content/audit"===this.props.location.pathname&&("img-list"!==t.currentTab&&this.setState({currentTab:"img-list"}),this.props.history.replace("/admin/community/content/audit/img-list"))}},{key:"render",value:function(){var e=this,t=(this.props.match,this.state.currentTab);return r.createElement("div",{className:"content-audit"},r.createElement(u.a,Object.assign({},this.props,{currentTab:t,onTabClick:this.onTabClick,title:"维护与审核",tabs:[{id:"img-list",title:"图片审核",path:"/admin/community/content/audit/img-list"}]})),r.createElement(l.a,{path:"/admin/community/content/audit/img-list",render:function(t){return r.createElement(D,Object.assign({},t,{toggleTab:e.toggleTab}))}}))}}])&&Y(n.prototype,i),c&&Y(n,c),t}();H=a.b([Object(m.a)("/admin/community/content/audit",{exact:!1}),Object(s.b)("common","feed"),s.c],H);t.default=H}}]);