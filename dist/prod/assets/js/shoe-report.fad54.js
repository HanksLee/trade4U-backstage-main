(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1419:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var a=n(1),r=n(109),o=(n(1422),n(146)),i=n.n(o),c=(n(167),n(353)),s=n.n(c),l=(n(578),n(352)),u=n.n(l),m=(n(248),n(1377)),p=n.n(m),d=(n(1376),n(1371)),f=n.n(d),h=(n(1370),n(168)),g=n.n(h),v=(n(354),n(23)),b=n.n(v),y=(n(351),n(582)),E=n.n(y),w=(n(581),n(584)),S=n.n(w),C=(n(583),n(580)),k=n.n(C),N=(n(579),n(11)),O=n(16),R=n.n(O);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=s.a.Option,_=u.a.Group,F=f.a.RangePicker,L=k.a.CheckableTag,V={SelectInput:function(e){var t=e.selectValue,n=e.inputValue,r=e.placeholder,o=e.options,i=e.onSelectChange,c=e.onInputChange,l=e.onPressEnter,m=e.selectStyle;return a.createElement(_,{compact:!0},a.createElement(s.a,{style:m?Object.assign({width:110},m):{width:110},value:t,onChange:i},o&&o.map(function(e,t){return a.createElement(T,{key:t,value:e.value},e.title)})),a.createElement(u.a,{style:{width:238},value:n,onChange:c,placeholder:r,onPressEnter:l}))},Select:function(e){var t=e.option,n=e.label,r=e.mode,o=e.onSearch,i=e.onSelect,c=e.onBlur,l=e.onFocus,u=e.value,m=e.placeholder,p=e.showSearch,d=e.width,f=e.filterOption,h=e.onChange,g=e.allowClear,v=e.onPopupScroll;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(s.a,{allowClear:g,value:u,mode:r||!1,style:{minWidth:d||258,width:d},showSearch:p,placeholder:m,filterOption:f,onSearch:o,onSelect:i,onChange:h,onBlur:c,onPopupScroll:v,onFocus:l},t.data.map(function(e){return a.createElement(T,{key:e[t.key]||e.id,value:e[t.value]||e.id,$data:e},e[t.title])}))))},DatePicker:function(e){var t=e.label,n=e.placeholder,r=e.onChange,o=e.value,i=e.style,c=e.format,s=e.showTime;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(f.a,{format:c||!1,style:i,showTime:s,placeholder:n,value:o,onChange:r})))},RangePicker:function(e){var t=e.label,n=e.alias,r=e.placeholder,o=e.onChange,c=e.value,s=e.showTime,l=e.format;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(F,{style:{width:400},showTime:s,format:l,placeholder:r,value:c,onChange:o}),a.createElement("span",{className:"common-list-control-date-alias"},!N.a.isEmpty(n)&&n.map(function(e,t){return a.createElement(i.a,{key:t,onClick:function(){return o([R()(Date.now()-864e5*e).startOf("day"),R()()])}},e," 天内")}))))},Input:function(e){var t=e.label,n=e.value,r=e.placeholder,o=e.onChange,i=e.width,c=e.onPressEnter;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},a.createElement(u.a,{style:{minWidth:i||258},value:n,onChange:o,placeholder:r,onPressEnter:c})))},Checkbox:function(e){var t=e.label,n=e.value,r=e.onChange;return a.createElement(g.a,{checked:n,onChange:r},t)},CheckableTag:function(e){var t=e.label,n=e.option,r=e.value,o=e.onChange;return a.createElement(a.Fragment,null,t&&a.createElement("span",{className:"common-list-label"},"".concat(t,"：")),a.createElement("span",{className:"common-list-control"},!N.a.isEmpty(n)&&n.map(function(e){return a.createElement(L,{key:e.value,checked:e.value===r,onChange:function(){o(e)}},e.title)})))},Label:function(e,t){var n=e.label;return a.createElement(a.Fragment,null,n&&a.createElement("span",{className:"common-list-label"},"".concat(n,"：")),a.createElement("span",{className:"common-list-control"},t))},Custom:function(e){return a.createElement("div",null,(void 0).props.children)}},I=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=j(this,B(t).apply(this,arguments))).state={collapse:!0},e.toggleCollapse=function(t){e.setState({collapse:!e.state.collapse})},e.renderSearcher=function(){var t=e.props.config,n=t.searcher,r=t.table,o=e.state.collapse;return n&&a.createElement("section",{className:"common-list-search"},e.renderWidgets(n.widgets),r&&r.tableHeader&&r.tableHeader(),a.createElement("div",{className:"common-list-search-right"},!n.hideSearcher&&a.createElement(a.Fragment,null,a.createElement(i.a,{type:"primary",onClick:n.onSearch},"查询"),a.createElement(i.a,{onClick:n.onReset},"重置")),n.collapseControl&&n.collapseControl.showMoreBtn&&a.createElement("span",{className:"common-list-serach-more"},a.createElement("a",{onClick:e.toggleCollapse},o?"更多":"收起"," ",a.createElement(b.a,{type:o?"down":"up"})))))},e.renderWidgets=function(t){var n=e.state.collapse,r=e.props.config.searcher;return t&&a.createElement("div",{className:"common-list-search-left"},t.map(function(t,o){return Array.isArray(t)?a.createElement("div",{key:o,className:"common-list-search-row",style:{display:r.collapseControl&&r.collapseControl.showMoreBtn&&n&&o>0?"none":"flex"}},t.map(function(t){return a.createElement("div",{key:t.label,className:"common-list-search-col",style:Object.assign({},t.style)},V[t.type]&&V[t.type](t,t.children?e.renderWidgets(t.children):null))})):a.createElement("div",{key:t.label,className:"common-list-search-row ".concat(t.className)},V[t.type]&&V[t.type](t,t.children?e.renderWidgets(t.children):null))}))},e.renderAddBtn=function(){var t=e.props.config,n=t.addBtn,r=t.searcher;return n&&a.createElement("section",{className:"common-list-addbtn",style:n.style},"function"==typeof n.title?a.createElement(n.title,null):n.title,a.createElement("div",{className:"common-list-search-batch"},r.batchControl.showBatchControl&&a.createElement(s.a,{placeholder:r.batchControl.placeholder,style:{minWidth:120},defaultValue:void 0,onChange:r.batchControl.onBatch},r.batchControl.options.map(function(e){return a.createElement(T,{key:e.value,value:e.value},e.title)}))))},e.renderTableHeader=function(){var t=e.props.config.tableHeader;return a.createElement("section",{className:"common-list-table-header"},t&&t())},e.renderTable=function(){var t=e.props.config.table,n=t.rowKey,r=t.rowSelection,o=t.columns,i=t.dataSource,c=t.pagination,s=t.onChange,l=t.loading,u=t.locale;return a.createElement("section",{className:"common-list-table"},a.createElement(p.a,{locale:u,rowKey:n||"id",rowSelection:r,columns:o,dataSource:i,loading:l,pagination:c,onChange:s}))},e.renderCards=function(){var t=e.props.config.cards,n=t.dataSource,r=t.loading,o=t.pagination,i=t.renderCard,c=t.addBtn;return a.createElement("div",{className:"common-list-cards-wrapper"},a.createElement("ul",{className:"common-list-cards"},r?a.createElement("div",{className:"common-list-cards-loading"},a.createElement(S.a,null)):a.createElement(a.Fragment,null,a.createElement("li",{className:"common-list-card add-btn"},a.createElement("div",{className:"common-list-card-item",onClick:c.onAddBtnClick},c.icon?a.createElement("img",{src:c.icon,alt:""}):a.createElement(b.a,{type:"plus-circle"}),a.createElement("p",null,c.title))),n.map(function(e){return a.createElement("li",{className:"common-list-card"},a.createElement("div",{className:"common-list-card-item"},i(e)))}))),a.createElement("section",{className:"common-list-cards-pagination"},a.createElement(E.a,Object.assign({},o))))},e}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["a"]),n=t,(o=[{key:"render",value:function(){var e=this.props.config;return a.createElement("div",{className:"common-list"},this.renderSearcher(),this.renderAddBtn(),this.renderTableHeader(),e.table&&this.renderTable(),e.cards&&this.renderCards())}}])&&P(n.prototype,o),c&&P(n,c),t}()},1420:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(1),r=n(1375),o=n.n(r),i=(n(1374),n(11));n(1421);function c(e){var t=i.a.getPageBreadcrumb(e.location.pathname),n=e.title,r=e.links,c=e.tabs,s=e.currentTab;return a.createElement("div",{className:"common-header"},a.createElement("section",{className:"common-header-breadcrumb"},t&&a.createElement(o.a,null,t.map(function(e,t){return a.createElement(o.a.Item,{key:t},e.title)}))),a.createElement("section",{className:"common-header-title"},a.createElement("h2",null,n),a.createElement("div",{className:"common-header-links"},r&&r.map(function(t,n){return a.createElement("a",{key:n,onClick:function(){e.history.push(t.path)}},t.title)}))),a.createElement("section",{className:"common-header-tabs"},c&&c.map(function(t,n){return a.createElement("a",{onClick:function(){e.onTabClick(t.id)},className:"".concat(s===t.id?"tab-active":""," ")},a.createElement("span",null,t.title),t.tipComponent&&t.tipComponent())})))}},1421:function(e,t,n){},1422:function(e,t,n){},1428:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(1388),i=(n(1429),n(23)),c=n.n(i);n(351);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,m(t).apply(this,arguments))).state={expanded:!1,truncated:!1},e.handleTruncate=function(t){e.state.truncated!==t&&e.setState({truncated:t})},e.toggleLines=function(t){t.preventDefault(),e.setState({expanded:!e.state.expanded})},e}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["Component"]),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.more,a=e.less,i=e.lines,s=e.width,l=this.state,u=l.expanded,m=l.truncated;return r.a.createElement("div",{className:"ellipsis-text"},r.a.createElement(o.a,{width:s,lines:!u&&i,ellipsis:r.a.createElement("span",null,"...",r.a.createElement("a",{href:"#",onClick:this.toggleLines,className:"expand-text"},n," ",r.a.createElement(c.a,{type:"down"}))),onTruncate:this.handleTruncate},r.a.createElement("div",{style:{width:s}},t)),!m&&u&&r.a.createElement("span",null," ",r.a.createElement("a",{href:"#",className:"expand-text",onClick:this.toggleLines},a)))}}])&&l(n.prototype,i),s&&l(n,s),t}();d.defaultProps={lines:3,more:"更多",less:"收起 >"},t.a=d},1429:function(e,t,n){},1466:function(e,t,n){},1534:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),o=n(109),i=n(200),c=n(120),s=n(1369),l=n.n(s),u=(n(1368),n(1466),n(110)),m=n(1420),p=n(1419),d=n(146),f=n.n(d),h=(n(167),n(23)),g=n.n(h),v=(n(351),n(356)),b=n.n(v),y=(n(587),n(11)),E=n(16),w=n.n(E),S=n(1428);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k=function(e){var t={selectedRowKeys:e.state.selectedRowKeys,onChange:function(t,n){e.setState({selectedRowKeys:t})}},n=[{width:820,title:"用户上传信息",render:function(e,t){return r.createElement("div",{className:"shoe-list-table-detail"},r.createElement(S.a,{width:1e3},r.createElement("p",{className:"shoe-list-table-detail-content",dangerouslySetInnerHTML:{__html:t.content}})),r.createElement("p",{className:"shoe-list-table-detail-subcontent"},r.createElement("span",null,"跑鞋"),r.createElement("span",null,t.brandName," ",t.shoeName)),r.createElement("p",{className:"shoe-list-table-detail-userinfo"},r.createElement(r.Fragment,null,r.createElement("img",{src:t.photoPath,alt:""}),r.createElement("span",{className:"info"},r.createElement("span",null,r.createElement("strong",null,t.nick),"(ID: ".concat(t.uid,")")),r.createElement("span",null,"提交于"),r.createElement("span",null,w()(t.createTime).format("YYYY.MM.DD HH:mm:ss"))))))}},{width:120,title:"上传图片",render:function(e,t){return r.createElement("a",{href:t.photoPath,target:"_blank"},r.createElement("img",{style:{width:80,height:80},src:t.photoPath,alt:""}))}},{width:120,title:"人工反馈",dataIndex:"hasContactUser",filters:[{text:"已反馈",value:1},{text:"未反馈",value:0}],filterMultiple:!1,render:function(t,n){return r.createElement("span",null,0==n.hasContactUser?r.createElement(b.a,{onChange:function(t){return a.a(void 0,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.target.checked){a.next=4;break}return a.next=3,e.$api.shoe.reportContactUser({params:{id:n.id}});case 3:e.getDataList();case 4:case"end":return a.stop()}},a)}))}},"已反馈"):r.createElement("span",{style:{color:"#FAAD14"}},"已反馈"))}},{title:"官方上架",width:120,dataIndex:"hasPublicOnline",filters:[{text:"已上架",value:1},{text:"未上架",value:0}],filterMultiple:!1,render:function(t,n){return r.createElement("span",null,1!=n.hasPublicOnline?r.createElement(b.a,{onChange:function(t){return a.a(void 0,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.target.checked){a.next=4;break}return a.next=3,e.$api.shoe.reportUpshelf({params:{id:n.id}});case 3:e.getDataList();case 4:case"end":return a.stop()}},a)}))}},"已上架"):r.createElement("span",{style:{color:"#FAAD14"}},"已上架"))}}],o=Object.assign({},e.props.common.paginationConfig,{current:e.state.currentPage,total:e.props.shoe.reportListMeta.total,onChange:function(e,t){},onShowSizeChange:function(t,n){e.resetPagination(n,t)}});return{addBtn:{title:function(){return r.createElement(f.a,{style:{visibility:"hidden"},type:"primary",onClick:function(){return e.goToEditor({})}},r.createElement(g.a,{type:"plus"})," 添加")}},searcher:{batchControl:{placeholder:"请选择",showBatchControl:!y.a.isEmpty(e.state.selectedRowKeys),options:[{title:"反馈",value:"feedback"},{title:"上架",value:"upshelf"}],onBatch:function(t){e.onBatch(t)}},widgets:[[{type:"Select",label:"选择品牌",showSearch:!0,placeholder:"请输入品牌名",value:e.state.brandValue,option:{key:"brandId",value:"brandName",title:"brandName",data:e.state.brandOptions||[]},onSearch:function(t){e.onBrandSearch(t)},onChange:function(t,n){e.onBrandSelect(t,n)},onSelect:function(e,t){},onBlur:function(){},onFocus:function(){e.onBrandFocus()},onPopupScroll:function(t){e.onBrandPopupScroll(t)}},{type:"Input",label:"跑鞋型号",placeholder:"请输入跑鞋型号",value:e.state.shoeValue||void 0,onChange:function(t){e.onShoeChange(t.target.value)},onPressEnter:function(){e.onSearch()}}],{type:"SelectInput",label:"跑鞋",placeholder:"请输入用户 ID 或昵称",options:[{title:"用户 ID",value:"uid"},{title:"用户昵称",value:"nick"}],inputValue:e.state.userValue,selectValue:e.state.userField,onSelectChange:function(t){e.setUserField(t)},onInputChange:function(t){e.setUserValue(t.target.value)},onPressEnter:function(){e.onSearch()}},{type:"Label",label:"其他选项",className:"other-opts",children:[{type:"RangePicker",label:"排序",placeholder:["开始日期","结束日期"],alias:[1,7,30],showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",value:e.state.dateRange||null,onChange:function(t){e.onDateRangeChange(t)}}]}],onSearch:function(){e.onSearch()},onReset:function(){e.onReset()}},table:{rowKey:"id",rowSelection:t,columns:n,loading:e.state.tableLoading,dataSource:e.props.shoe.reportList,pagination:o,onChange:function(t,n,a){var r={pageNum:t.current,pageSize:t.pageSize};if(!y.a.isEmpty(n))for(var o=0,i=Object.entries(n);o<i.length;o++){var c=C(i[o],2),s=c[0],l=c[1];r[s]=l?l[0]:void 0}y.a.isEmpty(a)||(r.orderBy="".concat(a.field),r.sort="".concat("descend"===a.order?"desc":"asc")),e.setState({filter:Object.assign({},e.state.filter,r),currentPage:t.current},function(){e.getDataList(e.state.filter)})}}}},N=n(147),O=n.n(N),R=n(585),x=n.n(R),P=n(1382),j=n.n(P);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=l.a.confirm,I=[],M=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=_(t).apply(this,arguments),(e=!o||"object"!==B(o)&&"function"!=typeof o?F(n):o).state={dateRange:[],selectedRowKeys:[],brandOptions:[],filter:{},brandValue:void 0,shoeField:"shoeId",shoeValue:void 0,userField:"uid",userValue:void 0,tableLoading:!1,currentPage:1,brandOptionsMeta:{total:0,pageNum:1,pageSize:20}},e.getDataList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({tableLoading:!0,filter:Object.assign({},e.state.filter,t)},function(){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.shoe.getReportList(Object.assign({},this.state.filter,t));case 2:this.setState({tableLoading:!1});case 3:case"end":return e.stop()}},e,this)}))})},e.resetPagination=function(t,n){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({filter:Object.assign({},this.state.filter,{pageSize:t,pageNum:n})},function(){return a.a(r,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.filter,this.getDataList(t);case 2:case"end":return e.stop()}},e,this)}))});case 1:case"end":return e.stop()}},e,this)}))},e.setShoeField=function(t){var n=e.state.filter;"shoeId"!==t?delete n.shoeId:"shoeName"!==t&&delete n.shoeName,e.setState({shoeField:t,shoeValue:void 0,filter:Object.assign({},n,D({},t,void 0))})},e.setShoeValue=function(t){e.setState({shoeValue:t,filter:Object.assign({},e.state.filter,D({},e.state.shoeField,t||void 0))})},e.setUserField=function(t){var n=e.state.filter;"uid"!==t?delete n[t]:"nick"!==t&&delete n[t],e.setState({userField:t,userValue:void 0,filter:Object.assign({},n,D({},t,void 0))})},e.setUserValue=function(t){e.setState({userValue:t,filter:Object.assign({},e.state.filter,D({},e.state.userField,t||void 0))})},e.onUserChange=function(t){e.setState({userValue:t,filter:Object.assign({},e.state.filter,{nick:t||void 0})})},e.onShoeChange=function(t){e.setState({shoeValue:t,filter:Object.assign({},e.state.filter,{shoeName:t||void 0})})},e.onDateRangeChange=function(t){var n=Object.assign({},e.state.filter);y.a.isEmpty(t)||(n.createTimeStart=t[0].format("YYYY-MM-DD hh:mm:ss"),n.createTimeEnd=t[1].format("YYYY-MM-DD hh:mm:ss")),e.setState({dateRange:t,filter:n},function(){})},e.onSearch=function(){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.state.filter).uid||!Number.isNaN(Number(t.uid))){e.next=3;break}return e.abrupt("return",this.$msg.error("请输入正确 uid"));case 3:if(!t.shoeId||!Number.isNaN(Number(t.shoeId))){e.next=5;break}return e.abrupt("return",this.$msg.error("请输入正确 shoeId"));case 5:this.setState({filter:Object.assign({},t,{pageNum:1}),currentPage:1},function(){n.getDataList(n.state.filter)});case 6:case"end":return e.stop()}},e,this)}))},e.onReset=function(){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={pageNum:1,pageSize:this.state.filter.pageSize},this.setState({brandValue:void 0,shoeValue:void 0,userValue:void 0,dateRange:[],filter:t,currentPage:1},function(){n.getDataList(n.state.filter)});case 2:case"end":return e.stop()}},e,this)}))},e.feedbackOperation=function(t){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:V({title:"批量反馈操作",content:r.createElement("span",null,"请问是否批量反馈当前选中的信息"),onOk:function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.shoe.batchReportContactUser({ids:t});case 2:0==(n=e.sent).data.ret?(this.$msg.success("批量反馈成功"),this.getDataList()):this.$msg.error(n.data.msg);case 4:case"end":return e.stop()}},e,this)}))},onCancel:function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}});case 1:case"end":return e.stop()}},e)}))},e.upshelfOperation=function(t){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:V({title:"批量上架操作",content:r.createElement("span",null,"请问是否批量上架当前选中信息"),onOk:function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.shoe.batchReportUpshelf({ids:t});case 2:n=e.sent,this.getDataList(),0==n.data.ret?(this.$msg.success("批量上架成功"),this.getDataList()):this.$msg.error(n.data.msg);case 5:case"end":return e.stop()}},e,this)}))},onCancel:function(){return a.a(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}});case 1:case"end":return e.stop()}},e)}))},e.onBrandSearch=O()(function(t){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.shoe.getBrandList({brandName:t,pageNum:1,pageSize:10});case 2:n=e.sent,this.setState({brandOptions:n.data.data.list});case 4:case"end":return e.stop()}},e,this)}))},500),e.onBrandSelect=function(t,n){e.setState({brandValue:t,filter:Object.assign({},e.state.filter,{brandName:t||void 0})},function(){e.onSearch()})},e.onBatch=function(t){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.selectedRowKeys,"upshelf"===t?this.upshelfOperation(n):"feedback"===t&&this.feedbackOperation(n);case 2:case"end":return e.stop()}},e,this)}))},e.onBrandFocus=function(){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$api.shoe.getBrandList({pageNum:1,pageSize:20});case 2:t=e.sent,this.setState({brandOptions:t.data.data.list,brandOptionsMeta:{total:t.data.data.total,pageNum:t.data.data.pageNum,pageSize:t.data.data.pageSize}});case 4:case"end":return e.stop()}},e,this)}))},e.onBrandPopupScroll=x()(function(t){return a.a(F(e),void 0,void 0,regeneratorRuntime.mark(function e(){var n,a,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,a=n.brandOptions,r=n.brandOptionsMeta,!(!(!t||!t.target)&&t.target.scrollHeight-(t.target.scrollTop+t.target.clientHeight)<=10&&r.total>a.length)){e.next=7;break}return e.next=5,this.$api.shoe.getBrandList({pageNum:r.pageNum+1,pageSize:20});case 5:o=e.sent,this.setState({brandOptions:j()(this.state.brandOptions,o.data.data.list,"brandId"),brandOptionsMeta:{total:o.data.data.total,pageNum:o.data.data.pageNum,pageSize:o.data.data.pageSize}});case 7:case"end":return e.stop()}},e,this)}))},300),e}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,o["a"]),n=t,(i=[{key:"componentDidMount",value:function(){return a.a(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.common.paginationConfig,n=t.defaultPageSize,a=t.defaultCurrent,this.resetPagination(n,a);case 2:case"end":return e.stop()}},e,this)}))}},{key:"componentDidUpdate",value:function(){"/admin/shoe/racing/report"===this.props.location.pathname&&this.props.history.replace("/admin/shoe/racing/report/list")}},{key:"render",value:function(){var e=this,t=this.props.match;return r.createElement("div",{className:"shoe-report"},r.createElement(m.a,Object.assign({},this.props,{links:I,title:"用户反馈（跑鞋）"})),r.createElement(c.a,{path:"".concat(t.url,"/list"),render:function(t){return r.createElement(p.a,Object.assign({},t,{config:k(e)}))}}))}}])&&T(n.prototype,i),s&&T(n,s),t}();M=a.b([Object(i.a)("/admin/shoe/racing/report",{exact:!1}),Object(u.b)("common","shoe"),u.c],M);t.default=M}}]);